{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let UsuarioFormComponent = class UsuarioFormComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.usuario = null;\n    this.departamentos = [];\n    this.cargos = [];\n    this.modoEdicion = false;\n    this.onGuardar = new EventEmitter();\n    this.onCancelar = new EventEmitter();\n    this.usuarioForm = this.fb.group({\n      id: [null],\n      usuario: ['', Validators.required],\n      primer_nombre: ['', Validators.required],\n      segundo_nombre: [''],\n      primer_apellido: ['', Validators.required],\n      segundo_apellido: [''],\n      email: ['', [Validators.required, Validators.email]],\n      departamento_id: [0, Validators.required],\n      cargo_id: [0, Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.inicializarFormulario();\n  }\n  ngOnChanges(changes) {\n    if (changes['usuario'] && this.usuario) {\n      this.inicializarFormulario();\n    }\n  }\n  inicializarFormulario() {\n    if (this.usuario) {\n      this.usuarioForm.patchValue({\n        id: this.usuario.id,\n        usuario: this.usuario.usuario,\n        primer_nombre: this.usuario.primer_nombre,\n        segundo_nombre: this.usuario.segundo_nombre || '',\n        primer_apellido: this.usuario.primer_apellido,\n        segundo_apellido: this.usuario.segundo_apellido || '',\n        email: this.usuario.email,\n        departamento_id: this.usuario.departamento_id,\n        cargo_id: this.usuario.cargo_id\n      });\n    }\n  }\n  getDepartamentoNombre() {\n    const departamentoId = this.usuarioForm.get('departamento_id')?.value;\n    if (departamentoId) {\n      const departamento = this.departamentos.find(d => d.id === departamentoId);\n      return departamento ? departamento.nombre : 'Seleccione un Departamento';\n    }\n    return 'Seleccione un Departamento';\n  }\n  getCargoNombre() {\n    const cargoId = this.usuarioForm.get('cargo_id')?.value;\n    if (cargoId) {\n      const cargo = this.cargos.find(c => c.id === cargoId);\n      return cargo ? cargo.nombre : 'Seleccione un perfil';\n    }\n    return 'Seleccione un perfil';\n  }\n  seleccionarDepartamento(departamento) {\n    this.usuarioForm.patchValue({\n      departamento_id: departamento.id\n    });\n  }\n  seleccionarCargo(cargo) {\n    this.usuarioForm.patchValue({\n      cargo_id: cargo.id\n    });\n  }\n  guardar() {\n    if (this.usuarioForm.valid) {\n      this.onGuardar.emit(this.usuarioForm.value);\n    } else {\n      this.usuarioForm.markAllAsTouched();\n    }\n  }\n  cancelar() {\n    this.onCancelar.emit();\n  }\n};\n__decorate([Input()], UsuarioFormComponent.prototype, \"usuario\", void 0);\n__decorate([Input()], UsuarioFormComponent.prototype, \"departamentos\", void 0);\n__decorate([Input()], UsuarioFormComponent.prototype, \"cargos\", void 0);\n__decorate([Input()], UsuarioFormComponent.prototype, \"modoEdicion\", void 0);\n__decorate([Output()], UsuarioFormComponent.prototype, \"onGuardar\", void 0);\n__decorate([Output()], UsuarioFormComponent.prototype, \"onCancelar\", void 0);\nUsuarioFormComponent = __decorate([Component({\n  selector: 'app-usuario-form',\n  templateUrl: './usuario-form.component.html',\n  styleUrls: ['./usuario-form.component.scss']\n})], UsuarioFormComponent);","map":{"version":3,"names":["Component","EventEmitter","Input","Output","Validators","UsuarioFormComponent","constructor","fb","usuario","departamentos","cargos","modoEdicion","onGuardar","onCancelar","usuarioForm","group","id","required","primer_nombre","segundo_nombre","primer_apellido","segundo_apellido","email","departamento_id","cargo_id","ngOnInit","inicializarFormulario","ngOnChanges","changes","patchValue","getDepartamentoNombre","departamentoId","get","value","departamento","find","d","nombre","getCargoNombre","cargoId","cargo","c","seleccionarDepartamento","seleccionarCargo","guardar","valid","emit","markAllAsTouched","cancelar","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\angel\\JobProjects\\FrontEnd\\gestion-usuarios\\src\\app\\components\\usuario-form\\usuario-form.component.ts"],"sourcesContent":["import {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Usuario } from '../../models/usuario.model';\nimport { Departamento } from '../../models/departamento.model';\nimport { Cargo } from '../../models/cargo.model';\n\n@Component({\n  selector: 'app-usuario-form',\n  templateUrl: './usuario-form.component.html',\n  styleUrls: ['./usuario-form.component.scss'],\n})\nexport class UsuarioFormComponent implements OnInit, OnChanges {\n  @Input() usuario: Usuario | null = null;\n  @Input() departamentos: Departamento[] = [];\n  @Input() cargos: Cargo[] = [];\n  @Input() modoEdicion = false;\n\n  @Output() onGuardar = new EventEmitter<Usuario>();\n  @Output() onCancelar = new EventEmitter<void>();\n\n  usuarioForm: FormGroup;\n\n  constructor(private fb: FormBuilder) {\n    this.usuarioForm = this.fb.group({\n      id: [null],\n      usuario: ['', Validators.required],\n      primer_nombre: ['', Validators.required],\n      segundo_nombre: [''],\n      primer_apellido: ['', Validators.required],\n      segundo_apellido: [''],\n      email: ['', [Validators.required, Validators.email]],\n      departamento_id: [0, Validators.required],\n      cargo_id: [0, Validators.required],\n    });\n  }\n\n  ngOnInit(): void {\n    this.inicializarFormulario();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['usuario'] && this.usuario) {\n      this.inicializarFormulario();\n    }\n  }\n\n  inicializarFormulario(): void {\n    if (this.usuario) {\n      this.usuarioForm.patchValue({\n        id: this.usuario.id,\n        usuario: this.usuario.usuario,\n        primer_nombre: this.usuario.primer_nombre,\n        segundo_nombre: this.usuario.segundo_nombre || '',\n        primer_apellido: this.usuario.primer_apellido,\n        segundo_apellido: this.usuario.segundo_apellido || '',\n        email: this.usuario.email,\n        departamento_id: this.usuario.departamento_id,\n        cargo_id: this.usuario.cargo_id,\n      });\n    }\n  }\n\n  getDepartamentoNombre(): string {\n    const departamentoId = this.usuarioForm.get('departamento_id')?.value;\n    if (departamentoId) {\n      const departamento = this.departamentos.find(\n        (d) => d.id === departamentoId\n      );\n      return departamento ? departamento.nombre : 'Seleccione un Departamento';\n    }\n    return 'Seleccione un Departamento';\n  }\n\n  getCargoNombre(): string {\n    const cargoId = this.usuarioForm.get('cargo_id')?.value;\n    if (cargoId) {\n      const cargo = this.cargos.find((c) => c.id === cargoId);\n      return cargo ? cargo.nombre : 'Seleccione un perfil';\n    }\n    return 'Seleccione un perfil';\n  }\n\n  seleccionarDepartamento(departamento: Departamento): void {\n    this.usuarioForm.patchValue({\n      departamento_id: departamento.id,\n    });\n  }\n\n  seleccionarCargo(cargo: Cargo): void {\n    this.usuarioForm.patchValue({\n      cargo_id: cargo.id,\n    });\n  }\n\n  guardar(): void {\n    if (this.usuarioForm.valid) {\n      this.onGuardar.emit(this.usuarioForm.value);\n    } else {\n      this.usuarioForm.markAllAsTouched();\n    }\n  }\n\n  cancelar(): void {\n    this.onCancelar.emit();\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}